
<!DOCTYPE html>
<html>
<head>
<title>H√≥a ƒê∆°n</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<style type="text/css">
    html, body {
        height: auto !important;
        overflow: visible !important;
    }

    #thermal-pos {
        box-shadow: 0 0 5px #EEE;
        margin: 0 auto;
        max-width: 72mm;
        line-height: 6mm;
        font-family: Arial, sans-serif;
        height: auto !important;
        overflow: visible !important;
    }

    #thermal-pos h2 {
        font-size: 4mm;
        line-height: 13px;
    }
    #thermal-pos h4 {
        font-size: 4.5mm;
        line-height: 13px;
    }
    #thermal-pos h3 {
        font-size: 4.3mm;
        color: #DD0000;
    }
    #thermal-pos .label {
        text-align: center;
        font-size: 4mm;
    }
    #thermal-pos .information {
        vertical-align: text-top;
        max-width: 45mm;
        word-wrap: break-word;
    }
    #thermal-pos .listitem {
        font-size: 4mm;
        height: 5mm;
    }
    #thermal-pos table {
        width: 100%;
        border-collapse: collapse;
    }
    #thermal-pos .item {
        max-width: 80mm;
        font-size: 4.2mm;
        word-wrap: break-word;
    }
    #thermal-pos .total {
        margin-top: 5mm;
        vertical-align: bottom;
        text-align: right;
        font-size: 4.2mm;
    }
    #thermal-pos .qty {
        text-align: right;
    }
    #thermal-pos .end {
        margin-top: 0mm;
        text-align: center;
        height: 40px;
        page-break-after: always;
    }
</style>
</head>
<body>
<div id="thermal-pos">
    <!-- Original content remains unchanged -->
</div>

<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script>
window.onload = () => {
    const target = document.getElementById("thermal-pos");

    setTimeout(() => {
        html2canvas(target, {
            scale: 2,
            useCORS: true
        }).then(canvas => {
            const imgData = canvas.toDataURL("image/png");
            window.generatedImageData = imgData;

            const resultContainer = document.createElement("div");
            resultContainer.style.textAlign = "center";
            resultContainer.style.marginTop = "20px";

            resultContainer.innerHTML = \`
                <p style="margin: 10px; font-size: 16px;">‚ú¶ H√≥a ƒë∆°n ƒë√£ t·∫°o xong. B·∫°n c√≥ th·ªÉ l∆∞u ho·∫∑c in:</p>
                <img src="\${imgData}" style="width:100%; max-width:600px; border:1px solid #ccc;"/>
                <br><br>
                <button onclick="downloadImage()" style="padding: 10px 20px; font-size: 16px;">üì• T·∫£i ·∫£nh v·ªÅ m√°y</button>
                <button onclick="window.print()" style="padding: 10px 20px; font-size: 16px; margin-left: 10px;">üñ®Ô∏è In h√≥a ƒë∆°n</button>
                <p style="color: gray; font-size: 14px;">B·∫°n c√≥ th·ªÉ gi·ªØ ·∫£nh ho·∫∑c in tr·ª±c ti·∫øp</p>
            \`;

            document.body.appendChild(resultContainer);
        });
    }, 1000);
};

function downloadImage() {
    const link = document.createElement("a");
    link.download = "hoa_don.png";
    link.href = window.generatedImageData;
    link.click();
}
</script>
</body>
</html>
